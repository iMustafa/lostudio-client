{"ast":null,"code":"import grapesjs from 'grapesjs';\nimport loadComponents from './components';\nimport loadBlocks from './blocks';\nimport loadCommands from './commands';\nimport loadPanels from './panels';\nimport parserHtmlCaseSensitive from './ParserHtmlCaseSensitive';\nimport { TablePluginRef } from './consts';\nexport default function addTablePlugin() {\n  grapesjs.plugins.add(TablePluginRef, function (editor) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    editor.TraitManager.addType('pre', {\n      noLabel: true,\n      getInputEl: function getInputEl() {\n        var model = this.model;\n\n        var _model$props = model.props(),\n            text = _model$props.text;\n\n        var label = text;\n        var input = \"<div type=\\\"text\\\" style=\\\"font-size: 1rem; line-height:30px; margin:10px; word-wrap: break-word; width: 180px;\\\">\".concat(label, \"</div>\");\n        return input;\n      }\n    });\n    var c = opts;\n    var defaults = {\n      blocks: [TablePluginRef],\n      blockLabel: 'Table',\n      blockCategory: 'Extra',\n      defaultStyle: true\n    };\n    console.log(defaults);\n\n    for (var name in defaults) {\n      if (!(name in c)) c[name] = defaults[name];\n    }\n\n    loadComponents(editor, c);\n    loadBlocks(editor, c);\n    loadCommands(editor, c);\n    loadPanels(editor, c);\n    var em = editor.getModel();\n    var emConf = em.get('Config');\n    emConf.textTags = ['br', 'b', 'i', 'u', 'a', 'ul', 'ol'];\n    em.get('Parser').parserHtml = parserHtmlCaseSensitive(emConf);\n\n    em.get('Parser').parseHtml = function (str) {\n      var pHtml = em.get('Parser').parserHtml;\n      pHtml.compTypes = em.get('DomComponents').getTypes();\n      var res = pHtml.parse(str, em.get('Parser').parserCss);\n      return res;\n    };\n\n    editor.on(\"load\", function () {\n      var openBl = editor.Panels.getButton('views', 'open-blocks');\n      openBl && openBl.set('active', 1);\n    });\n  });\n}","map":null,"metadata":{},"sourceType":"module"}