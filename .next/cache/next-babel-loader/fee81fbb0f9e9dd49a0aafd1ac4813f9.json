{"ast":null,"code":"var _jsxFileName = \"/Users/imustafa/Projects/LoStudio/client/components/datasources/add/mssql.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Input from '@material-ui/core/Input';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport { Button } from '@material-ui/core';\nimport DatasourceActions from '../../../actions/datasource.actions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: '30px 15px 15px 15px'\n  },\n  cardBody: {\n    padding: '10px'\n  },\n  cardTitle: {\n    fontSize: '12px',\n    backgroundColor: '#3F51B5',\n    padding: '3px 3px 3px 6px',\n    color: '#FFF',\n    fontFamily: \"Roboto\"\n  },\n  gridStyles: {\n    margin: '10px 0 5px 0',\n    width: '100%'\n  },\n  h2: {\n    width: '100%',\n    textAlign: 'center',\n    borderBottom: '1px solid #000',\n    lineHeight: '0.1em',\n    margin: '10px 0 20px',\n    fontFamily: 'Roboto',\n    fontSize: '13px',\n    color: \"#3F51B5\"\n  },\n  span: {\n    background: '#fff',\n    padding: '0 10px'\n  },\n  card: {\n    padding: '10px 15px 20px 15px',\n    marginBottom: '20px'\n  }\n}));\n\nconst AddMsSQLDataSource = () => {\n  const classes = useStyles();\n  const {\n    0: values,\n    1: setValues\n  } = useState({\n    showPassword: false,\n    useAuth: 0,\n    isLoading: false\n  });\n  const {\n    0: attempts,\n    1: setAttempts\n  } = useState(0);\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    title: '',\n    type: 'mssql',\n    force: false,\n    description: '',\n    config: {\n      port: 27017,\n      server: '',\n      db: '',\n      user: '',\n      password: ''\n    }\n  });\n\n  const handleSubmitData = async () => {\n    try {\n      setValues(_objectSpread({}, values, {\n        isLoading: true\n      }));\n      const res = await DatasourceActions.createDatasource(state);\n      setValues(_objectSpread({}, values, {\n        isLoading: false\n      }));\n    } catch (e) {\n      if (e.error.message == 'Connection Failed') {\n        setState(_objectSpread({}, state, {\n          force: true\n        }));\n        setAttempts(1);\n      }\n    }\n  };\n\n  const handleInputChange = event => {\n    const {\n      value,\n      name\n    } = event.target;\n    setState(_objectSpread({}, state, {\n      [name]: value\n    }));\n    setAttempts(0);\n  };\n\n  const handleAuthChange = event => {\n    const {\n      value,\n      name\n    } = event.target;\n    setState(_objectSpread({}, state, {\n      config: _objectSpread({}, state.config, {\n        [name]: value\n      })\n    }));\n  };\n\n  const handleMouseDownPassword = event => {\n    event.preventDefault();\n  };\n\n  const renderSubmitButtons = () => {\n    return values.isLoading ? __jsx(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }\n    }, __jsx(CircularProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    })) : attempts >= 1 ? __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      className: \"alert alert-info\",\n      style: {\n        display: 'flex',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, __jsx(\"p\", {\n      style: {\n        fontFamily: 'Roboto',\n        margin: '0'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, \"Connection failed to this database, would you like to save it anyway?\")), __jsx(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }, __jsx(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, \"Cancel\"), __jsx(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, \"Save\"))) : __jsx(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, __jsx(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, \"Cancel\"), __jsx(Button, {\n      onClick: handleSubmitData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    }, \"Save\"));\n  };\n\n  return __jsx(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: classes.cardTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, \"Add a New Data Source - Microsoft SQL Server\"), __jsx(Card, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }, __jsx(Card, {\n    className: classes.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, __jsx(\"h2\", {\n    className: classes.h2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    className: classes.span,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, \"Basic\")), __jsx(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, __jsx(TextField, {\n    onChange: handleInputChange.bind(this),\n    fullWidth: true,\n    id: \"name\",\n    name: \"title\",\n    label: \"Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, __jsx(TextField, {\n    onChange: handleInputChange.bind(this),\n    fullWidth: true,\n    id: \"description\",\n    name: \"description\",\n    label: \"Description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  })))), __jsx(Card, {\n    className: classes.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, __jsx(\"h2\", {\n    className: classes.h2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    className: classes.span,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, \"Database Properties\")), __jsx(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, __jsx(TextField, {\n    onChange: handleAuthChange.bind(this),\n    fullWidth: true,\n    id: \"server\",\n    name: \"server\",\n    label: \"Server\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, __jsx(TextField, {\n    onChange: handleAuthChange.bind(this),\n    fullWidth: true,\n    id: \"port\",\n    name: \"port\",\n    label: \"Port\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, __jsx(TextField, {\n    onChange: handleAuthChange.bind(this),\n    fullWidth: true,\n    id: \"database\",\n    name: \"database\",\n    label: \"Database\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  })))), __jsx(Card, {\n    className: classes.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, __jsx(\"h2\", {\n    className: classes.h2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    className: classes.span,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, \"Authentication\")), __jsx(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, __jsx(TextField, {\n    onChange: handleAuthChange.bind(this),\n    fullWidth: true,\n    id: \"username\",\n    name: \"user\",\n    label: \"Username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }, __jsx(TextField, {\n    onChange: handleAuthChange.bind(this),\n    fullWidth: true,\n    id: \"password\",\n    name: \"password\",\n    label: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 15\n    }\n  })))), renderSubmitButtons()));\n};\n\nexport default AddMsSQLDataSource;","map":{"version":3,"sources":["/Users/imustafa/Projects/LoStudio/client/components/datasources/add/mssql.jsx"],"names":["useState","makeStyles","Card","Grid","TextField","Input","IconButton","InputAdornment","InputLabel","MenuItem","FormControl","Select","Visibility","VisibilityOff","Button","DatasourceActions","CircularProgress","useStyles","theme","root","padding","cardBody","cardTitle","fontSize","backgroundColor","color","fontFamily","gridStyles","margin","width","h2","textAlign","borderBottom","lineHeight","span","background","card","marginBottom","AddMsSQLDataSource","classes","values","setValues","showPassword","useAuth","isLoading","attempts","setAttempts","state","setState","title","type","force","description","config","port","server","db","user","password","handleSubmitData","res","createDatasource","e","error","message","handleInputChange","event","value","name","target","handleAuthChange","handleMouseDownPassword","preventDefault","renderSubmitButtons","display","justifyContent","bind"],"mappings":"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","sourcesContent":["import { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Input from '@material-ui/core/Input'\nimport IconButton from '@material-ui/core/IconButton'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport FormControl from '@material-ui/core/FormControl'\nimport Select from '@material-ui/core/Select'\nimport Visibility from '@material-ui/icons/Visibility'\nimport VisibilityOff from '@material-ui/icons/VisibilityOff'\nimport { Button } from '@material-ui/core'\nimport DatasourceActions from '../../../actions/datasource.actions'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: '30px 15px 15px 15px',\n  },\n  cardBody: {\n    padding: '10px'\n  },\n  cardTitle: {\n    fontSize: '12px',\n    backgroundColor: '#3F51B5',\n    padding: '3px 3px 3px 6px',\n    color: '#FFF',\n    fontFamily: \"Roboto\"\n  },\n  gridStyles: {\n    margin: '10px 0 5px 0',\n    width: '100%'\n  },\n  h2: {\n    width: '100%',\n    textAlign: 'center',\n    borderBottom: '1px solid #000',\n    lineHeight: '0.1em',\n    margin: '10px 0 20px',\n    fontFamily: 'Roboto',\n    fontSize: '13px',\n    color: \"#3F51B5\"\n  },\n  span: {\n    background: '#fff',\n    padding: '0 10px'\n  },\n  card: {\n    padding: '10px 15px 20px 15px',\n    marginBottom: '20px'\n  }\n}))\n\nconst AddMsSQLDataSource = () => {\n  const classes = useStyles();\n  const [values, setValues] = useState({ showPassword: false, useAuth: 0, isLoading: false })\n  const [attempts, setAttempts] = useState(0)\n  const [state, setState] = useState({\n    title: '',\n    type: 'mssql',\n    force: false,\n    description: '',\n    config: {\n      port: 27017,\n      server: '',\n      db: '',\n      user: '',\n      password: ''\n    }\n  })\n\n  const handleSubmitData = async () => {\n    try {\n      setValues({ ...values, isLoading: true })\n      const res = await DatasourceActions.createDatasource(state)\n      setValues({ ...values, isLoading: false })\n    } catch (e) {\n      if (e.error.message == 'Connection Failed') {\n        setState({ ...state, force: true })\n        setAttempts(1)\n      }\n    }\n  }\n\n  const handleInputChange = (event) => {\n    const { value, name } = event.target\n    setState({ ...state, [name]: value })\n    setAttempts(0)\n  }\n\n  const handleAuthChange = (event) => {\n    const { value, name } = event.target\n    setState({ ...state, config: { ...state.config, [name]: value } })\n  }\n\n  const handleMouseDownPassword = event => {\n    event.preventDefault()\n  }\n\n  const renderSubmitButtons = () => {\n    return values.isLoading ? (\n      <div style={{ display: 'flex', justifyContent: 'center' }}>\n        <CircularProgress />\n      </div>\n    ) : attempts >= 1 ? (\n      <div>\n        <div className=\"alert alert-info\" style={{ display: 'flex', justifyContent: 'center' }}>\n          <p style={{ fontFamily: 'Roboto', margin: '0' }}>Connection failed to this database, would you like to save it anyway?</p>\n        </div>\n        <div style={{ display: 'flex', justifyContent: 'center' }}>\n          <Button>Cancel</Button>\n          <Button>Save</Button>\n        </div>\n      </div>\n    ) : (\n          <div style={{ display: 'flex', justifyContent: 'center' }}>\n            <Button>Cancel</Button>\n            <Button onClick={handleSubmitData}>Save</Button>\n          </div>\n        )\n  }\n\n  return (\n    <Card>\n      <div className={classes.cardTitle}>\n        Add a New Data Source - Microsoft SQL Server\n      </div>\n      <Card className={classes.root}>\n\n        <Card className={classes.card}>\n          <h2 className={classes.h2}>\n            <span className={classes.span}>Basic</span>\n          </h2>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField onChange={handleInputChange.bind(this)} fullWidth id=\"name\" name=\"title\" label=\"Name\" />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField onChange={handleInputChange.bind(this)} fullWidth id=\"description\" name=\"description\" label=\"Description\" />\n            </Grid>\n          </Grid>\n        </Card>\n\n        <Card className={classes.card}>\n          <h2 className={classes.h2}>\n            <span className={classes.span}>Database Properties</span>\n          </h2>\n          <Grid container spacing={2}>\n            <Grid item xs={8}>\n              <TextField onChange={handleAuthChange.bind(this)} fullWidth id=\"server\" name=\"server\" label=\"Server\" />\n            </Grid>\n            <Grid item xs={4}>\n              <TextField onChange={handleAuthChange.bind(this)} fullWidth id=\"port\" name=\"port\" label=\"Port\" />\n            </Grid>\n            <Grid item xs={4}>\n              <TextField onChange={handleAuthChange.bind(this)} fullWidth id=\"database\" name=\"database\" label=\"Database\" />\n            </Grid>\n          </Grid>\n        </Card>\n\n        <Card className={classes.card}>\n          <h2 className={classes.h2}>\n            <span className={classes.span}>Authentication</span>\n          </h2>\n          <Grid container spacing={2}>\n            <Grid item xs={6}>\n              <TextField onChange={handleAuthChange.bind(this)} fullWidth id=\"username\" name=\"user\" label=\"Username\" />\n            </Grid>\n            <Grid item xs={6}>\n              <TextField onChange={handleAuthChange.bind(this)} fullWidth id=\"password\" name=\"password\" label=\"Password\" />\n            </Grid>\n          </Grid>\n        </Card>\n\n        {renderSubmitButtons()}\n\n      </Card>\n    </Card>\n  )\n};\n\n\nexport default AddMsSQLDataSource;"]},"metadata":{},"sourceType":"module"}