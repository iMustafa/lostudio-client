{"ast":null,"code":"var _jsxFileName = \"/Users/imustafa/Projects/LoStudio/client/pages/webpages/[id]/edit.jsx\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Cookie from \"js-cookie\";\nimport { useRouter } from 'next/router';\nimport \"./css/grapes.min.css\";\nimport grapesjs from \"grapesjs\";\nimport gsWebpage from \"grapesjs-preset-webpage\";\nimport gsCustome from \"grapesjs-custom-code\";\nimport gsTap from \"grapesjs-tabs\";\nimport { TablePluginRef } from \"../../../components/grapes/table-widgets/html-table-widget/consts\";\nimport addTablePlugin from \"../../../components/grapes/table-widgets/html-table-widget\";\nconst {\n  API_URL\n} = config().publicRuntimeConfig;\n\nconst Page = () => {\n  const [pluginLoaded, setPluginLoaded] = React.useState(false);\n  const [editor, setEditor] = React.useState(null);\n  const router = useRouter();\n  const [id, setId] = React.useState(router.query.id);\n  useEffect(() => {\n    if (!pluginLoaded) {\n      addTablePlugin();\n      setPluginLoaded(true);\n    } else if (!editor) {\n      const e = grapesjs.init({\n        color: \"white\",\n        height: \"100vh\",\n        width: \"auto\",\n        container: \"#g\",\n        fromElement: true,\n        plugins: [gsWebpage, gsCustome, gsTap, TablePluginRef],\n        storageManager: {\n          type: \"remote\",\n          urlStore: `${API_URL}/Dashboards/${id}/grapes?access_token=${Cookie.get(\"id\")}`,\n          urlLoad: `${API_URL}/Dashboards/${id}/grapes?access_token=${Cookie.get(\"id\")}`,\n          autosave: false,\n          autoload: true,\n          contentTypeJson: true,\n          storeComponents: true,\n          allowScripts: 1,\n          storeStyles: true,\n          storeHtml: true,\n          storeCss: true\n        }\n      });\n    }\n  });\n  return __jsx(\"div\", {\n    id: \"g\",\n    className: \"h\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 10\n    }\n  });\n};\n\nexport default Page;","map":{"version":3,"sources":["/Users/imustafa/Projects/LoStudio/client/pages/webpages/[id]/edit.jsx"],"names":["React","Cookie","useRouter","grapesjs","gsWebpage","gsCustome","gsTap","TablePluginRef","addTablePlugin","API_URL","config","publicRuntimeConfig","Page","pluginLoaded","setPluginLoaded","useState","editor","setEditor","router","id","setId","query","useEffect","e","init","color","height","width","container","fromElement","plugins","storageManager","type","urlStore","get","urlLoad","autosave","autoload","contentTypeJson","storeComponents","allowScripts","storeStyles","storeHtml","storeCss"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,OAAO,sBAAP;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAEA,SAASC,cAAT,QAA+B,mEAA/B;AACA,OAAOC,cAAP,MAA2B,4DAA3B;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAcC,MAAM,GAAGC,mBAA7B;;AAEA,MAAMC,IAAI,GAAG,MAAM;AACjB,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCd,KAAK,CAACe,QAAN,CAAe,KAAf,CAAxC;AACA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBjB,KAAK,CAACe,QAAN,CAAe,IAAf,CAA5B;AACA,QAAMG,MAAM,GAAGhB,SAAS,EAAxB;AACA,QAAM,CAACiB,EAAD,EAAKC,KAAL,IAAcpB,KAAK,CAACe,QAAN,CAAeG,MAAM,CAACG,KAAP,CAAaF,EAA5B,CAApB;AAEAG,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACT,YAAL,EAAmB;AACjBL,MAAAA,cAAc;AACdM,MAAAA,eAAe,CAAC,IAAD,CAAf;AACD,KAHD,MAGO,IAAI,CAACE,MAAL,EAAa;AAClB,YAAMO,CAAC,GAAGpB,QAAQ,CAACqB,IAAT,CAAc;AACtBC,QAAAA,KAAK,EAAE,OADe;AAEtBC,QAAAA,MAAM,EAAE,OAFc;AAGtBC,QAAAA,KAAK,EAAE,MAHe;AAItBC,QAAAA,SAAS,EAAE,IAJW;AAKtBC,QAAAA,WAAW,EAAE,IALS;AAMtBC,QAAAA,OAAO,EAAE,CAAC1B,SAAD,EAAYC,SAAZ,EAAuBC,KAAvB,EAA8BC,cAA9B,CANa;AAOtBwB,QAAAA,cAAc,EAAE;AACdC,UAAAA,IAAI,EAAE,QADQ;AAEdC,UAAAA,QAAQ,EAAG,GAAExB,OAAQ,eAAcU,EAAG,wBAAuBlB,MAAM,CAACiC,GAAP,CAC3D,IAD2D,CAE3D,EAJY;AAKdC,UAAAA,OAAO,EAAG,GAAE1B,OAAQ,eAAcU,EAAG,wBAAuBlB,MAAM,CAACiC,GAAP,CAC1D,IAD0D,CAE1D,EAPY;AAQdE,UAAAA,QAAQ,EAAE,KARI;AASdC,UAAAA,QAAQ,EAAE,IATI;AAUdC,UAAAA,eAAe,EAAE,IAVH;AAWdC,UAAAA,eAAe,EAAE,IAXH;AAYdC,UAAAA,YAAY,EAAE,CAZA;AAadC,UAAAA,WAAW,EAAE,IAbC;AAcdC,UAAAA,SAAS,EAAE,IAdG;AAedC,UAAAA,QAAQ,EAAE;AAfI;AAPM,OAAd,CAAV;AAyBD;AACF,GA/BQ,CAAT;AAiCA,SAAO;AAAK,IAAA,EAAE,EAAC,GAAR;AAAY,IAAA,SAAS,EAAC,GAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAxCD;;AA0CA,eAAe/B,IAAf","sourcesContent":["import React from \"react\";\nimport Cookie from \"js-cookie\";\nimport { useRouter } from 'next/router'\n\nimport \"./css/grapes.min.css\";\nimport grapesjs from \"grapesjs\";\nimport gsWebpage from \"grapesjs-preset-webpage\";\nimport gsCustome from \"grapesjs-custom-code\";\nimport gsTap from \"grapesjs-tabs\";\n\nimport { TablePluginRef } from \"../../../components/grapes/table-widgets/html-table-widget/consts\";\nimport addTablePlugin from \"../../../components/grapes/table-widgets/html-table-widget\";\n\nconst { API_URL } = config().publicRuntimeConfig;\n\nconst Page = () => {\n  const [pluginLoaded, setPluginLoaded] = React.useState(false);\n  const [editor, setEditor] = React.useState(null);\n  const router = useRouter()\n  const [id, setId] = React.useState(router.query.id)\n\n  useEffect(() => {\n    if (!pluginLoaded) {\n      addTablePlugin();\n      setPluginLoaded(true);\n    } else if (!editor) {\n      const e = grapesjs.init({\n        color: \"white\",\n        height: \"100vh\",\n        width: \"auto\",\n        container: \"#g\",\n        fromElement: true,\n        plugins: [gsWebpage, gsCustome, gsTap, TablePluginRef],\n        storageManager: {\n          type: \"remote\",\n          urlStore: `${API_URL}/Dashboards/${id}/grapes?access_token=${Cookie.get(\n            \"id\"\n          )}`,\n          urlLoad: `${API_URL}/Dashboards/${id}/grapes?access_token=${Cookie.get(\n            \"id\"\n          )}`,\n          autosave: false,\n          autoload: true,\n          contentTypeJson: true,\n          storeComponents: true,\n          allowScripts: 1,\n          storeStyles: true,\n          storeHtml: true,\n          storeCss: true,\n        },\n      });\n    }\n  });\n\n  return <div id=\"g\" className=\"h\" />;\n};\n\nexport default Page;\n"]},"metadata":{},"sourceType":"module"}