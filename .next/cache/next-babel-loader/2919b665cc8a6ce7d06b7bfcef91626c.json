{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport axios from 'axios';\nimport config from 'next/config';\nimport Cookie from 'js-cookie';\nvar API_URL = config().publicRuntimeConfig.API_URL;\n\nvar WidgetSettingsActions = /*#__PURE__*/function () {\n  function WidgetSettingsActions() {\n    _classCallCheck(this, WidgetSettingsActions);\n  }\n\n  _createClass(WidgetSettingsActions, null, [{\n    key: \"addWidgetSettingsDocument\",\n    value: function addWidgetSettingsDocument(widgetSettingsId, data) {\n      return _regeneratorRuntime.async(function addWidgetSettingsDocument$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", axios.post(\"\".concat(API_URL, \"/WidgetSettings/\").concat(widgetSettingsId, \"/add-document\"), data, {\n                headers: {\n                  Authorization: Cookie.get('id')\n                }\n              }).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"editWidgetSettingsDocument\",\n    value: function editWidgetSettingsDocument(widgetSettingsId, data, keyId) {\n      return _regeneratorRuntime.async(function editWidgetSettingsDocument$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", axios.post(\"\".concat(API_URL, \"/WidgetSettings/\").concat(widgetSettingsId, \"/edit-document\"), data, {\n                headers: {\n                  Authorization: Cookie.get('id')\n                },\n                params: {\n                  keyId: keyId\n                }\n              }).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"deleteWidgetSettingsDocument\",\n    value: function deleteWidgetSettingsDocument(widgetSettingsId, keyId) {\n      return _regeneratorRuntime.async(function deleteWidgetSettingsDocument$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", axios[\"delete\"](\"\".concat(API_URL, \"/WidgetSettings/\").concat(widgetSettingsId, \"/delete-document\"), {\n                headers: {\n                  Authorization: Cookie.get('id')\n                },\n                params: {\n                  keyId: keyId\n                }\n              }).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"createWidgetSettings\",\n    value: function createWidgetSettings(widgetSettings) {\n      return _regeneratorRuntime.async(function createWidgetSettings$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              return _context4.abrupt(\"return\", axios.post(\"\".concat(API_URL, \"/WidgetSettings\"), widgetSettings, {\n                headers: {\n                  Authorization: Cookie.get('id')\n                }\n              }).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"getSubWidgets\",\n    value: function getSubWidgets(widgetSettingsId) {\n      return _regeneratorRuntime.async(function getSubWidgets$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              return _context5.abrupt(\"return\", axios.get(\"\".concat(API_URL, \"/WidgetSettings/\").concat(widgetSettingsId, \"/subWidgetSettings\"), {\n                headers: {\n                  Authorization: Cookie.get('id')\n                },\n                params: {\n                  filter: {\n                    include: 'subWidgetSettings'\n                  }\n                }\n              }).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"exportWidgetData\",\n    value: function exportWidgetData(widgetSettingsId, format, method, selectedFields) {\n      return _regeneratorRuntime.async(function exportWidgetData$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              if (!(format == 'email')) {\n                _context6.next = 4;\n                break;\n              }\n\n              return _context6.abrupt(\"return\", axios.get(\"\".concat(API_URL, \"/WidgetSettings/\").concat(widgetSettingsId, \"/export-data\"), {\n                headers: {\n                  Authorization: Cookie.get('id')\n                },\n                params: {\n                  format: format,\n                  selectedFields: selectedFields,\n                  method: method\n                }\n              }).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 4:\n              window.open(\"\".concat(API_URL, \"/WidgetSettings/\").concat(widgetSettingsId, \"/export-data?format=\").concat(format, \"&method=\").concat(method, \"&selectedFields=\").concat(selectedFields));\n\n            case 5:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"createSubWidget\",\n    value: function createSubWidget(widgetSettingsId, subWidgetSettingsId) {\n      return _regeneratorRuntime.async(function createSubWidget$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              return _context7.abrupt(\"return\", axios.post(\"\".concat(API_URL, \"/WidgetSettings/\").concat(widgetSettingsId, \"/subWidgetSettings\"), {\n                subWidgetSettingsId: subWidgetSettingsId\n              }, {\n                headers: {\n                  Authorization: Cookie.get('id')\n                }\n              }).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"getWidgetSettingsMeasureConditions\",\n    value: function getWidgetSettingsMeasureConditions(widgetSettingsId) {\n      return _regeneratorRuntime.async(function getWidgetSettingsMeasureConditions$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              return _context8.abrupt(\"return\", axios.get(\"\".concat(API_URL, \"/WidgetSettings/\").concat(widgetSettingsId, \"/measureConditions\"), {\n                headers: {\n                  Authorization: Cookie.get('id')\n                }\n              }).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"createWidgetSettingsMeasureConditions\",\n    value: function createWidgetSettingsMeasureConditions(widgetSettingsId, measureCondition) {\n      return _regeneratorRuntime.async(function createWidgetSettingsMeasureConditions$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              return _context9.abrupt(\"return\", axios.post(\"\".concat(API_URL, \"/WidgetSettings/\").concat(widgetSettingsId, \"/measureConditions\"), measureCondition, {\n                headers: {\n                  Authorization: Cookie.get('id')\n                }\n              }).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"deleteWidgetSettingsMeasureConditions\",\n    value: function deleteWidgetSettingsMeasureConditions(widgetSettingsId, measureConditionId) {\n      return _regeneratorRuntime.async(function deleteWidgetSettingsMeasureConditions$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              return _context10.abrupt(\"return\", axios[\"delete\"](\"\".concat(API_URL, \"/WidgetSettings/\").concat(widgetSettingsId, \"/measureConditions/\").concat(measureConditionId), {\n                headers: {\n                  Authorization: Cookie.get('id')\n                }\n              }).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"deleteSubWidget\",\n    value: function deleteSubWidget(widgetSettingsId, subWidgetSettingsId) {\n      return _regeneratorRuntime.async(function deleteSubWidget$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              return _context11.abrupt(\"return\", axios[\"delete\"](\"\".concat(API_URL, \"/WidgetSettings/\").concat(widgetSettingsId, \"/subWidgetSettings/\").concat(subWidgetSettingsId), {\n                headers: {\n                  Authorization: Cookie.get('id')\n                }\n              }).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"getFormGroupWidgets\",\n    value: function getFormGroupWidgets() {\n      return _regeneratorRuntime.async(function getFormGroupWidgets$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              return _context12.abrupt(\"return\", axios.get(\"\".concat(API_URL, \"/WidgetSettings\"), {\n                headers: {\n                  Authorization: Cookie.get('id')\n                },\n                params: {\n                  filter: {\n                    where: {\n                      type: \"Form Group\"\n                    }\n                  }\n                }\n              }).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context12.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    } // TODO\n\n  }, {\n    key: \"getWidgetSettings\",\n    value: function getWidgetSettings() {\n      return _regeneratorRuntime.async(function getWidgetSettings$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              return _context13.abrupt(\"return\", axios.post('', {}).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    } // TODO\n\n  }, {\n    key: \"getWidgetSettingsById\",\n    value: function getWidgetSettingsById(id, Authorization) {\n      return _regeneratorRuntime.async(function getWidgetSettingsById$(_context14) {\n        while (1) {\n          switch (_context14.prev = _context14.next) {\n            case 0:\n              return _context14.abrupt(\"return\", axios.get(\"\".concat(API_URL, \"/WidgetSettings/\").concat(id), {\n                headers: {\n                  Authorization: Authorization || Cookie.get('id')\n                }\n              }).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context14.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    } // TODO\n\n  }, {\n    key: \"updateWidgetSettings\",\n    value: function updateWidgetSettings(id, widgetSettings) {\n      return _regeneratorRuntime.async(function updateWidgetSettings$(_context15) {\n        while (1) {\n          switch (_context15.prev = _context15.next) {\n            case 0:\n              return _context15.abrupt(\"return\", axios.patch(\"\".concat(API_URL, \"/WidgetSettings/\").concat(id), widgetSettings, {\n                headers: {\n                  Authorization: Cookie.get('id')\n                }\n              }).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context15.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    } // TODO\n\n  }, {\n    key: \"deleteWidgetSettings\",\n    value: function deleteWidgetSettings(id) {\n      return _regeneratorRuntime.async(function deleteWidgetSettings$(_context16) {\n        while (1) {\n          switch (_context16.prev = _context16.next) {\n            case 0:\n              return _context16.abrupt(\"return\", axios.post('', {}).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context16.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"executeWidgetQuery\",\n    value: function executeWidgetQuery(id, Authorization) {\n      return _regeneratorRuntime.async(function executeWidgetQuery$(_context17) {\n        while (1) {\n          switch (_context17.prev = _context17.next) {\n            case 0:\n              return _context17.abrupt(\"return\", axios.get(\"\".concat(API_URL, \"/WidgetSettings/\").concat(id, \"/execute-query\"), {\n                headers: {\n                  Authorization: Authorization || Cookie.get('id')\n                }\n              }).then(function (res) {\n                return res.data;\n              })[\"catch\"](function (err) {\n                return err.response;\n              }));\n\n            case 1:\n            case \"end\":\n              return _context17.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }]);\n\n  return WidgetSettingsActions;\n}();\n\nexport { WidgetSettingsActions as default };","map":{"version":3,"sources":["/Users/imustafa/Projects/LoStudio/client/actions/widgetSettings.actions.ts"],"names":["axios","config","Cookie","API_URL","publicRuntimeConfig","WidgetSettingsActions","widgetSettingsId","data","post","headers","Authorization","get","then","res","err","response","keyId","params","widgetSettings","filter","include","format","method","selectedFields","window","open","subWidgetSettingsId","measureCondition","measureConditionId","where","type","id","patch"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport config from 'next/config'\nimport Cookie from 'js-cookie'\nimport User from '../types/users.types'\nimport Dashboard from '../types/dashboard.types'\nimport Datasource from '../types/datasource.types'\nimport Widget from '../types/widget.types'\nimport MeasureCondition from '../types/measureCondition.types'\nimport WidgetSettings from '../types/widgetSettings.type'\nimport { promises } from 'dns'\n\nconst { API_URL } = config().publicRuntimeConfig\n\nexport default class WidgetSettingsActions {\n\n  public static async addWidgetSettingsDocument(widgetSettingsId: string, data): Promise<any> {\n    return axios\n      .post(`${API_URL}/WidgetSettings/${widgetSettingsId}/add-document`, data, { headers: { Authorization: Cookie.get('id') } })\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n\n  public static async editWidgetSettingsDocument(widgetSettingsId: string, data, keyId: string): Promise<any> {\n    return axios\n      .post(`${API_URL}/WidgetSettings/${widgetSettingsId}/edit-document`, data, { headers: { Authorization: Cookie.get('id') }, params: { keyId } })\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n\n  public static async deleteWidgetSettingsDocument(widgetSettingsId: string, keyId: string): Promise<any> {\n    return axios\n      .delete(`${API_URL}/WidgetSettings/${widgetSettingsId}/delete-document`, { headers: { Authorization: Cookie.get('id') }, params: { keyId } })\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n\n  public static async createWidgetSettings(widgetSettings: WidgetSettings): Promise<WidgetSettings> {\n    return axios\n      .post(`${API_URL}/WidgetSettings`, widgetSettings, { headers: { Authorization: Cookie.get('id') } })\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n\n  public static async getSubWidgets(widgetSettingsId: string): Promise<Array<WidgetSettings>> {\n    return axios\n      .get(\n        `${API_URL}/WidgetSettings/${widgetSettingsId}/subWidgetSettings`,\n        {\n          headers: {\n            Authorization: Cookie.get('id')\n          },\n          params: {\n            filter: { include: 'subWidgetSettings' }\n          }\n        }\n      )\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n\n  public static async exportWidgetData(widgetSettingsId: string, format: string, method: string, selectedFields: Array<any>): Promise<any> {\n    if (format == 'email') {\n      return axios\n        .get(\n          `${API_URL}/WidgetSettings/${widgetSettingsId}/export-data`,\n          {\n            headers: { Authorization: Cookie.get('id') },\n            params: { format, selectedFields, method }\n          }\n        )\n        .then(res => res.data)\n        .catch(err => err.response)\n    } else {\n      window.open(`${API_URL}/WidgetSettings/${widgetSettingsId}/export-data?format=${format}&method=${method}&selectedFields=${selectedFields}`)\n    }\n  }\n\n  public static async createSubWidget(widgetSettingsId: string, subWidgetSettingsId: string): Promise<any> {\n    return axios\n      .post(\n        `${API_URL}/WidgetSettings/${widgetSettingsId}/subWidgetSettings`,\n        { subWidgetSettingsId },\n        { headers: { Authorization: Cookie.get('id') } }\n      )\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n\n  public static async getWidgetSettingsMeasureConditions(widgetSettingsId: string): Promise<Array<MeasureCondition>> {\n    return axios\n      .get(`${API_URL}/WidgetSettings/${widgetSettingsId}/measureConditions`, { headers: { Authorization: Cookie.get('id') } })\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n\n  public static async createWidgetSettingsMeasureConditions(widgetSettingsId: string, measureCondition: MeasureCondition): Promise<MeasureCondition> {\n    return axios\n      .post(\n        `${API_URL}/WidgetSettings/${widgetSettingsId}/measureConditions`,\n        measureCondition,\n        { headers: { Authorization: Cookie.get('id') } }\n      )\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n\n  public static async deleteWidgetSettingsMeasureConditions(widgetSettingsId: string, measureConditionId: string): Promise<any> {\n    return axios\n      .delete(\n        `${API_URL}/WidgetSettings/${widgetSettingsId}/measureConditions/${measureConditionId}`,\n        { headers: { Authorization: Cookie.get('id') } }\n      )\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n\n  public static async deleteSubWidget(widgetSettingsId: string, subWidgetSettingsId: string): Promise<any> {\n    return axios\n      .delete(\n        `${API_URL}/WidgetSettings/${widgetSettingsId}/subWidgetSettings/${subWidgetSettingsId}`,\n        { headers: { Authorization: Cookie.get('id') } }\n      )\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n\n  public static async getFormGroupWidgets(): Promise<Array<WidgetSettings>> {\n    return axios\n      .get(\n        `${API_URL}/WidgetSettings`,\n        {\n          headers: {\n            Authorization: Cookie.get('id')\n          },\n          params: {\n            filter: { where: { type: \"Form Group\" } }\n          }\n        }\n      )\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n\n  // TODO\n  public static async getWidgetSettings(): Promise<Array<WidgetSettings>> {\n    return axios\n      .post('', {})\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n\n  // TODO\n  public static async getWidgetSettingsById(id: string, Authorization?: string): Promise<WidgetSettings> {\n    return axios\n      .get(`${API_URL}/WidgetSettings/${id}`, { headers: { Authorization: Authorization || Cookie.get('id') } })\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n\n  // TODO\n  public static async updateWidgetSettings(id: string, widgetSettings: WidgetSettings): Promise<WidgetSettings> {\n    return axios\n      .patch(`${API_URL}/WidgetSettings/${id}`, widgetSettings, { headers: { Authorization: Cookie.get('id') } })\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n\n  // TODO\n  public static async deleteWidgetSettings(id: string): Promise<WidgetSettings> {\n    return axios\n      .post('', {})\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n\n  public static async executeWidgetQuery(id: string, Authorization?: string): Promise<any> {\n    return axios\n      .get(`${API_URL}/WidgetSettings/${id}/execute-query`, { headers: { Authorization: Authorization || Cookie.get('id') } })\n      .then(res => res.data)\n      .catch(err => err.response)\n  }\n}"]},"metadata":{},"sourceType":"module"}