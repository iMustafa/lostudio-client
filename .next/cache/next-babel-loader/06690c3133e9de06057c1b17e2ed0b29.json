{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/imustafa/Projects/LoStudio/client/pages/webpages/[id]/no-ssr.jsx\";\n\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Cookie from \"js-cookie\";\nimport { useRouter } from 'next/router';\nimport config from 'next/config'; // import \"./css/grapes.min.css\";\n\nimport grapesjs from \"grapesjs\";\nimport gsWebpage from \"grapesjs-preset-webpage\";\nimport gsCustome from \"grapesjs-custom-code\";\nimport gsTap from \"grapesjs-tabs\";\nimport { TablePluginRef } from \"../../../components/grapes/table-widgets/html-table-widget/consts\";\nimport addTablePlugin from \"../../../components/grapes/table-widgets/html-table-widget\";\nvar API_URL = config().publicRuntimeConfig.API_URL;\n\nvar Page = function Page() {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      pluginLoaded = _React$useState2[0],\n      setPluginLoaded = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      editor = _React$useState4[0],\n      setEditor = _React$useState4[1];\n\n  var router = useRouter();\n\n  var _React$useState5 = React.useState(router.query.id),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      id = _React$useState6[0],\n      setId = _React$useState6[1];\n\n  React.useEffect(function () {\n    if (!pluginLoaded) {\n      addTablePlugin();\n      setPluginLoaded(true);\n    } else if (!editor) {\n      var e = grapesjs.init({\n        color: \"white\",\n        height: \"100vh\",\n        width: \"auto\",\n        container: \"#g\",\n        fromElement: true,\n        plugins: [gsWebpage, gsCustome, gsTap, TablePluginRef],\n        storageManager: {\n          type: \"remote\",\n          urlStore: \"\".concat(API_URL, \"/Dashboards/\").concat(id, \"/grapes?access_token=\").concat(Cookie.get(\"id\")),\n          urlLoad: \"\".concat(API_URL, \"/Dashboards/\").concat(id, \"/grapes?access_token=\").concat(Cookie.get(\"id\")),\n          autosave: false,\n          autoload: true,\n          contentTypeJson: true,\n          storeComponents: true,\n          allowScripts: 1,\n          storeStyles: true,\n          storeHtml: true,\n          storeCss: true\n        }\n      });\n    }\n  });\n  return __jsx(\"div\", {\n    id: \"g\",\n    className: \"h\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 10\n    }\n  });\n};\n\nexport default Page;","map":{"version":3,"sources":["/Users/imustafa/Projects/LoStudio/client/pages/webpages/[id]/no-ssr.jsx"],"names":["React","Cookie","useRouter","config","grapesjs","gsWebpage","gsCustome","gsTap","TablePluginRef","addTablePlugin","API_URL","publicRuntimeConfig","Page","useState","pluginLoaded","setPluginLoaded","editor","setEditor","router","query","id","setId","useEffect","e","init","color","height","width","container","fromElement","plugins","storageManager","type","urlStore","get","urlLoad","autosave","autoload","contentTypeJson","storeComponents","allowScripts","storeStyles","storeHtml","storeCss"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,aAAnB,C,CAEA;;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAEA,SAASC,cAAT,QAA+B,mEAA/B;AACA,OAAOC,cAAP,MAA2B,4DAA3B;IAEQC,O,GAAYP,MAAM,GAAGQ,mB,CAArBD,O;;AAER,IAAME,IAAI,GAAG,SAAPA,IAAO,GAAM;AAAA,wBACuBZ,KAAK,CAACa,QAAN,CAAe,KAAf,CADvB;AAAA;AAAA,MACVC,YADU;AAAA,MACIC,eADJ;;AAAA,yBAEWf,KAAK,CAACa,QAAN,CAAe,IAAf,CAFX;AAAA;AAAA,MAEVG,MAFU;AAAA,MAEFC,SAFE;;AAGjB,MAAMC,MAAM,GAAGhB,SAAS,EAAxB;;AAHiB,yBAIGF,KAAK,CAACa,QAAN,CAAeK,MAAM,CAACC,KAAP,CAAaC,EAA5B,CAJH;AAAA;AAAA,MAIVA,EAJU;AAAA,MAINC,KAJM;;AAMjBrB,EAAAA,KAAK,CAACsB,SAAN,CAAgB,YAAM;AACpB,QAAI,CAACR,YAAL,EAAmB;AACjBL,MAAAA,cAAc;AACdM,MAAAA,eAAe,CAAC,IAAD,CAAf;AACD,KAHD,MAGO,IAAI,CAACC,MAAL,EAAa;AAClB,UAAMO,CAAC,GAAGnB,QAAQ,CAACoB,IAAT,CAAc;AACtBC,QAAAA,KAAK,EAAE,OADe;AAEtBC,QAAAA,MAAM,EAAE,OAFc;AAGtBC,QAAAA,KAAK,EAAE,MAHe;AAItBC,QAAAA,SAAS,EAAE,IAJW;AAKtBC,QAAAA,WAAW,EAAE,IALS;AAMtBC,QAAAA,OAAO,EAAE,CAACzB,SAAD,EAAYC,SAAZ,EAAuBC,KAAvB,EAA8BC,cAA9B,CANa;AAOtBuB,QAAAA,cAAc,EAAE;AACdC,UAAAA,IAAI,EAAE,QADQ;AAEdC,UAAAA,QAAQ,YAAKvB,OAAL,yBAA2BU,EAA3B,kCAAqDnB,MAAM,CAACiC,GAAP,CAC3D,IAD2D,CAArD,CAFM;AAKdC,UAAAA,OAAO,YAAKzB,OAAL,yBAA2BU,EAA3B,kCAAqDnB,MAAM,CAACiC,GAAP,CAC1D,IAD0D,CAArD,CALO;AAQdE,UAAAA,QAAQ,EAAE,KARI;AASdC,UAAAA,QAAQ,EAAE,IATI;AAUdC,UAAAA,eAAe,EAAE,IAVH;AAWdC,UAAAA,eAAe,EAAE,IAXH;AAYdC,UAAAA,YAAY,EAAE,CAZA;AAadC,UAAAA,WAAW,EAAE,IAbC;AAcdC,UAAAA,SAAS,EAAE,IAdG;AAedC,UAAAA,QAAQ,EAAE;AAfI;AAPM,OAAd,CAAV;AAyBD;AACF,GA/BD;AAiCA,SAAO;AAAK,IAAA,EAAE,EAAC,GAAR;AAAY,IAAA,SAAS,EAAC,GAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAxCD;;AA0CA,eAAe/B,IAAf","sourcesContent":["import React from \"react\";\nimport Cookie from \"js-cookie\";\nimport { useRouter } from 'next/router'\nimport config from 'next/config'\n\n// import \"./css/grapes.min.css\";\nimport grapesjs from \"grapesjs\";\nimport gsWebpage from \"grapesjs-preset-webpage\";\nimport gsCustome from \"grapesjs-custom-code\";\nimport gsTap from \"grapesjs-tabs\";\n\nimport { TablePluginRef } from \"../../../components/grapes/table-widgets/html-table-widget/consts\";\nimport addTablePlugin from \"../../../components/grapes/table-widgets/html-table-widget\";\n\nconst { API_URL } = config().publicRuntimeConfig;\n\nconst Page = () => {\n  const [pluginLoaded, setPluginLoaded] = React.useState(false);\n  const [editor, setEditor] = React.useState(null);\n  const router = useRouter()\n  const [id, setId] = React.useState(router.query.id)\n\n  React.useEffect(() => {\n    if (!pluginLoaded) {\n      addTablePlugin();\n      setPluginLoaded(true);\n    } else if (!editor) {\n      const e = grapesjs.init({\n        color: \"white\",\n        height: \"100vh\",\n        width: \"auto\",\n        container: \"#g\",\n        fromElement: true,\n        plugins: [gsWebpage, gsCustome, gsTap, TablePluginRef],\n        storageManager: {\n          type: \"remote\",\n          urlStore: `${API_URL}/Dashboards/${id}/grapes?access_token=${Cookie.get(\n            \"id\"\n          )}`,\n          urlLoad: `${API_URL}/Dashboards/${id}/grapes?access_token=${Cookie.get(\n            \"id\"\n          )}`,\n          autosave: false,\n          autoload: true,\n          contentTypeJson: true,\n          storeComponents: true,\n          allowScripts: 1,\n          storeStyles: true,\n          storeHtml: true,\n          storeCss: true,\n        },\n      });\n    }\n  });\n\n  return <div id=\"g\" className=\"h\" />;\n};\n\nexport default Page;\n"]},"metadata":{},"sourceType":"module"}