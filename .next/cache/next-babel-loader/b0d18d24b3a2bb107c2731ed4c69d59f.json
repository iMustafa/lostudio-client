{"ast":null,"code":"import axios from 'axios';\nimport config from 'next/config';\nimport Cookie from 'js-cookie';\nconst {\n  API_URL\n} = config().publicRuntimeConfig;\nexport default class DashboardActions {\n  static async createDashboard(dashborad) {\n    return axios.post('', {}).then(res => res.data).catch(err => err.response);\n  }\n\n  static async getDashboards({\n    Authorization,\n    query\n  }) {\n    console.log(Authorization);\n    return axios.get(`${API_URL}/Dashboards`, {\n      headers: {\n        Authorization: Authorization || Cookie.get('id')\n      }\n    }).then(res => res.data).catch(err => err);\n  }\n\n  static async getDashboardById(data) {\n    return axios.post('', {}).then(res => res.data).catch(err => err.response);\n  }\n\n  static async updateDashboard(id, data) {\n    return axios.patch(`${API_URL}/Dashboards/${id}`, data).then(res => res.data).catch(err => err.response);\n  }\n\n  static async deleteDashboard(data) {\n    return axios.post('', {}).then(res => res.data).catch(err => err.response);\n  }\n\n  static async getWidgetSettings({\n    Authorization,\n    id\n  }) {\n    return axios.get(`${API_URL}/Dashboards/${id}/widgetSettings`, {\n      headers: {\n        Authorization: Authorization || Cookie.get('id')\n      }\n    }).then(res => res.data).catch(err => err.response);\n  }\n\n  static async getCollaborators({\n    Authorization,\n    id\n  }) {\n    return axios.get(`${API_URL}/Dashboards/${id}/collaborators`, {\n      headers: {\n        Authorization: Authorization || Cookie.get('id')\n      }\n    }).then(res => res.data).catch(err => err.response);\n  }\n\n  static async getCollaboratorations({\n    Authorization\n  }) {\n    return axios.get(`${API_URL}/Dashboards/collaborations`, {\n      headers: {\n        Authorization: Authorization || Cookie.get('id')\n      }\n    }).then(res => res.data).catch(err => err.response);\n  }\n\n  static async addCollaborator({\n    Authorization,\n    email,\n    id,\n    editor,\n    viewer\n  }) {\n    return axios.post(`${API_URL}/Dashboards/${id}/dashboardRoleMappings`, {\n      email,\n      editor,\n      viewer\n    }, {\n      headers: {\n        Authorization: Authorization || Cookie.get('id')\n      }\n    }).then(res => res.data).catch(err => err.response);\n  }\n\n  static async addWidgetToDashboard(id, fk) {\n    return axios.put(`${API_URL}/Dashboards/${id}/widgetSettings/rel/${fk}`, {\n      dashboardId: id,\n      widgetSettingsId: fk\n    }, {\n      headers: {\n        Authorization: Cookie.get('id')\n      }\n    }).then(res => res.data).catch(err => err.response);\n  }\n\n  static async removeWidgetFromDashboard(data) {\n    return axios.post('', {}).then(res => res.data).catch(err => err.response);\n  }\n\n}","map":{"version":3,"sources":["F:/Projects/LoStudio/client/actions/dashboard.actions.ts"],"names":["axios","config","Cookie","API_URL","publicRuntimeConfig","DashboardActions","createDashboard","dashborad","post","then","res","data","catch","err","response","getDashboards","Authorization","query","console","log","get","headers","getDashboardById","updateDashboard","id","patch","deleteDashboard","getWidgetSettings","getCollaborators","getCollaboratorations","addCollaborator","email","editor","viewer","addWidgetToDashboard","fk","put","dashboardId","widgetSettingsId","removeWidgetFromDashboard"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport config from 'next/config'\r\nimport Cookie from 'js-cookie'\r\nimport User from '../types/users.types'\r\nimport Dashboard from '../types/dashboard.types'\r\nimport Datasource from '../types/datasource.types'\r\nimport Widget from '../types/widget.types'\r\nimport WidgetSettings from '../types/widgetSettings.type'\r\n\r\nconst { API_URL } = config().publicRuntimeConfig\r\n\r\nexport default class DashboardActions {\r\n\r\n  public static async createDashboard(dashborad: Dashboard): Promise<Dashboard> {\r\n    return axios\r\n      .post('', {})\r\n      .then(res => res.data)\r\n      .catch(err => err.response)\r\n  }\r\n\r\n  public static async getDashboards({ Authorization, query }: { Authorization?: string, query?: any }): Promise<Array<Dashboard>> {\r\n    console.log(Authorization)\r\n    return axios\r\n      .get(`${API_URL}/Dashboards`, { headers: { Authorization: Authorization || Cookie.get('id') } })\r\n      .then(res => res.data)\r\n      .catch(err => err)\r\n  }\r\n\r\n  public static async getDashboardById(data: Datasource): Promise<Dashboard> {\r\n    return axios\r\n      .post('', {})\r\n      .then(res => res.data)\r\n      .catch(err => err.response)\r\n  }\r\n\r\n  public static async updateDashboard(id: string, data): Promise<Dashboard> {\r\n    return axios\r\n      .patch(`${API_URL}/Dashboards/${id}`, data)\r\n      .then(res => res.data)\r\n      .catch(err => err.response)\r\n  }\r\n\r\n  public static async deleteDashboard(data: Datasource): Promise<Dashboard> {\r\n    return axios\r\n      .post('', {})\r\n      .then(res => res.data)\r\n      .catch(err => err.response)\r\n  }\r\n\r\n  public static async getWidgetSettings({ Authorization, id }: { Authorization?: string, id: string }): Promise<Array<WidgetSettings>> {\r\n    return axios\r\n      .get(`${API_URL}/Dashboards/${id}/widgetSettings`, { headers: { Authorization: Authorization || Cookie.get('id') } })\r\n      .then(res => res.data)\r\n      .catch(err => err.response)\r\n  }\r\n\r\n  public static async getCollaborators({ Authorization, id }: { Authorization?: string, id: string }): Promise<Array<User>> {\r\n    return axios\r\n      .get(`${API_URL}/Dashboards/${id}/collaborators`, { headers: { Authorization: Authorization || Cookie.get('id') } })\r\n      .then(res => res.data)\r\n      .catch(err => err.response)\r\n  }\r\n\r\n  public static async getCollaboratorations({ Authorization }: { Authorization?: string }): Promise<Array<Dashboard>> {\r\n    return axios\r\n      .get(`${API_URL}/Dashboards/collaborations`, { headers: { Authorization: Authorization || Cookie.get('id') } })\r\n      .then(res => res.data)\r\n      .catch(err => err.response)\r\n  }\r\n\r\n  public static async addCollaborator(\r\n    { Authorization, email, id, editor, viewer }: { Authorization?: string, email: string, id: string, editor: boolean, viewer: boolean }\r\n  ): Promise<any> {\r\n    return axios\r\n      .post(\r\n        `${API_URL}/Dashboards/${id}/dashboardRoleMappings`,\r\n        { email, editor, viewer },\r\n        { headers: { Authorization: Authorization || Cookie.get('id') } }\r\n      )\r\n      .then(res => res.data)\r\n      .catch(err => err.response)\r\n  }\r\n\r\n  public static async addWidgetToDashboard(id: string, fk: string): Promise<Dashboard> {\r\n    return axios\r\n      .put(`${API_URL}/Dashboards/${id}/widgetSettings/rel/${fk}`, { dashboardId: id, widgetSettingsId: fk }, { headers: { Authorization: Cookie.get('id') } })\r\n      .then(res => res.data)\r\n      .catch(err => err.response)\r\n  }\r\n\r\n  public static async removeWidgetFromDashboard(data: Datasource): Promise<Dashboard> {\r\n    return axios\r\n      .post('', {})\r\n      .then(res => res.data)\r\n      .catch(err => err.response)\r\n  }\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}