{"ast":null,"code":"import grapesjs from 'grapesjs';\nimport loadComponents from './components';\nimport loadBlocks from './blocks';\nimport loadCommands from './commands';\nimport loadPanels from './panels';\nimport parserHtmlCaseSensitive from './ParserHtmlCaseSensitive';\nimport { TablePluginRef } from './consts';\nexport default function addTablePlugin() {\n  grapesjs.plugins.add(TablePluginRef, (editor, opts = {}) => {\n    editor.TraitManager.addType('pre', {\n      noLabel: true,\n\n      getInputEl() {\n        const {\n          model\n        } = this;\n        const {\n          text\n        } = model.props();\n        const label = text;\n        const input = `<div type=\"text\" style=\"font-size: 1rem; line-height:30px; margin:10px; word-wrap: break-word; width: 180px;\">${label}</div>`;\n        return input;\n      }\n\n    });\n    let c = opts;\n    let defaults = {\n      blocks: [TablePluginRef],\n      blockLabel: 'Table',\n      blockCategory: 'Extra',\n      defaultStyle: true\n    };\n\n    for (let name in defaults) {\n      if (!(name in c)) c[name] = defaults[name];\n    }\n\n    loadComponents(editor, c);\n    loadBlocks(editor, c);\n    loadCommands(editor, c);\n    loadPanels(editor, c);\n    const em = editor.getModel();\n    const emConf = em.get('Config');\n    emConf.textTags = ['br', 'b', 'i', 'u', 'a', 'ul', 'ol'];\n    em.get('Parser').parserHtml = parserHtmlCaseSensitive(emConf);\n\n    em.get('Parser').parseHtml = str => {\n      const pHtml = em.get('Parser').parserHtml;\n      pHtml.compTypes = em.get('DomComponents').getTypes();\n      let res = pHtml.parse(str, em.get('Parser').parserCss);\n      return res;\n    };\n\n    editor.on(\"load\", () => {\n      const openBl = editor.Panels.getButton('views', 'open-blocks');\n      openBl && openBl.set('active', 1);\n    });\n  });\n}","map":{"version":3,"sources":["/Users/imustafa/Projects/LoStudio/client/components/grapes/table-widgets/html-table-widget/index.js"],"names":["grapesjs","loadComponents","loadBlocks","loadCommands","loadPanels","parserHtmlCaseSensitive","TablePluginRef","addTablePlugin","plugins","add","editor","opts","TraitManager","addType","noLabel","getInputEl","model","text","props","label","input","c","defaults","blocks","blockLabel","blockCategory","defaultStyle","name","em","getModel","emConf","get","textTags","parserHtml","parseHtml","str","pHtml","compTypes","getTypes","res","parse","parserCss","on","openBl","Panels","getButton","set"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AACA,OAAOC,cAAP,MAA2B,cAA3B;AACA,OAAOC,UAAP,MAAuB,UAAvB;AACA,OAAOC,YAAP,MAAyB,YAAzB;AACA,OAAOC,UAAP,MAAuB,UAAvB;AACA,OAAOC,uBAAP,MAAoC,2BAApC;AAEA,SACIC,cADJ,QAEO,UAFP;AAIA,eAAe,SAASC,cAAT,GAA0B;AACrCP,EAAAA,QAAQ,CAACQ,OAAT,CAAiBC,GAAjB,CAAqBH,cAArB,EAAqC,CAACI,MAAD,EAASC,IAAI,GAAG,EAAhB,KAAuB;AAGxDD,IAAAA,MAAM,CAACE,YAAP,CAAoBC,OAApB,CAA4B,KAA5B,EAAmC;AAE/BC,MAAAA,OAAO,EAAE,IAFsB;;AAI/BC,MAAAA,UAAU,GAAG;AACT,cAAM;AAAEC,UAAAA;AAAF,YAAW,IAAjB;AACA,cAAM;AAACC,UAAAA;AAAD,YAASD,KAAK,CAACE,KAAN,EAAf;AACA,cAAMC,KAAK,GAAGF,IAAd;AACA,cAAMG,KAAK,GAAI,iHAAgHD,KAAM,QAArI;AACA,eAAOC,KAAP;AACH;;AAV8B,KAAnC;AAiBA,QAAIC,CAAC,GAAGV,IAAR;AAEA,QAAIW,QAAQ,GAAG;AACXC,MAAAA,MAAM,EAAE,CAACjB,cAAD,CADG;AAEXkB,MAAAA,UAAU,EAAE,OAFD;AAGXC,MAAAA,aAAa,EAAE,OAHJ;AAIXC,MAAAA,YAAY,EAAE;AAJH,KAAf;;AAOA,SAAK,IAAIC,IAAT,IAAiBL,QAAjB,EAA2B;AACvB,UAAI,EAAEK,IAAI,IAAIN,CAAV,CAAJ,EACIA,CAAC,CAACM,IAAD,CAAD,GAAUL,QAAQ,CAACK,IAAD,CAAlB;AACP;;AAED1B,IAAAA,cAAc,CAACS,MAAD,EAASW,CAAT,CAAd;AAEAnB,IAAAA,UAAU,CAACQ,MAAD,EAASW,CAAT,CAAV;AAEAlB,IAAAA,YAAY,CAACO,MAAD,EAASW,CAAT,CAAZ;AAEAjB,IAAAA,UAAU,CAACM,MAAD,EAASW,CAAT,CAAV;AAEA,UAAMO,EAAE,GAAGlB,MAAM,CAACmB,QAAP,EAAX;AACA,UAAMC,MAAM,GAAGF,EAAE,CAACG,GAAH,CAAO,QAAP,CAAf;AACAD,IAAAA,MAAM,CAACE,QAAP,GAAkB,CAAC,IAAD,EAAO,GAAP,EAAY,GAAZ,EAAiB,GAAjB,EAAsB,GAAtB,EAA2B,IAA3B,EAAiC,IAAjC,CAAlB;AACAJ,IAAAA,EAAE,CAACG,GAAH,CAAO,QAAP,EAAiBE,UAAjB,GAA8B5B,uBAAuB,CAACyB,MAAD,CAArD;;AACAF,IAAAA,EAAE,CAACG,GAAH,CAAO,QAAP,EAAiBG,SAAjB,GAA8BC,GAAD,IAAS;AAClC,YAAMC,KAAK,GAAGR,EAAE,CAACG,GAAH,CAAO,QAAP,EAAiBE,UAA/B;AACAG,MAAAA,KAAK,CAACC,SAAN,GAAkBT,EAAE,CAACG,GAAH,CAAO,eAAP,EAAwBO,QAAxB,EAAlB;AACA,UAAIC,GAAG,GAAGH,KAAK,CAACI,KAAN,CAAYL,GAAZ,EAAiBP,EAAE,CAACG,GAAH,CAAO,QAAP,EAAiBU,SAAlC,CAAV;AACA,aAAOF,GAAP;AACH,KALD;;AAOA7B,IAAAA,MAAM,CAACgC,EAAP,CAAU,MAAV,EAAkB,MAAM;AACpB,YAAMC,MAAM,GAAGjC,MAAM,CAACkC,MAAP,CAAcC,SAAd,CAAwB,OAAxB,EAAiC,aAAjC,CAAf;AACAF,MAAAA,MAAM,IAAIA,MAAM,CAACG,GAAP,CAAW,QAAX,EAAqB,CAArB,CAAV;AACH,KAHD;AAKH,GA1DD;AA2DH","sourcesContent":["import grapesjs from 'grapesjs';\nimport loadComponents from './components'; \nimport loadBlocks from './blocks';\nimport loadCommands from './commands';\nimport loadPanels from './panels';\nimport parserHtmlCaseSensitive from './ParserHtmlCaseSensitive';\n\nimport {\n    TablePluginRef\n} from './consts';\n\nexport default function addTablePlugin() {\n    grapesjs.plugins.add(TablePluginRef, (editor, opts = {}) => {\n\n        \n        editor.TraitManager.addType('pre', {\n                                                                \n            noLabel: true,\n            \n            getInputEl() {\n                const { model} = this;\n                const {text} = model.props();\n                const label = text;\n                const input = `<div type=\"text\" style=\"font-size: 1rem; line-height:30px; margin:10px; word-wrap: break-word; width: 180px;\">${label}</div>`;\n                return input;\n            }\n        }\n                                                            \n\t\t) \n\n\n\n        let c = opts;\n \n        let defaults = {\n            blocks: [TablePluginRef],\n            blockLabel: 'Table',\n            blockCategory: 'Extra',\n            defaultStyle: true,\n        };\n\n        for (let name in defaults) {\n            if (!(name in c))\n                c[name] = defaults[name];\n        }\n\n        loadComponents(editor, c);\n\n        loadBlocks(editor, c);\n\n        loadCommands(editor, c);\n\n        loadPanels(editor, c); \n\n        const em = editor.getModel();\n        const emConf = em.get('Config');\n        emConf.textTags = ['br', 'b', 'i', 'u', 'a', 'ul', 'ol'];\n        em.get('Parser').parserHtml = parserHtmlCaseSensitive(emConf);\n        em.get('Parser').parseHtml = (str) => {\n            const pHtml = em.get('Parser').parserHtml;\n            pHtml.compTypes = em.get('DomComponents').getTypes();\n            let res = pHtml.parse(str, em.get('Parser').parserCss);\n            return res;\n        };\n\n        editor.on(\"load\", () => {\n            const openBl = editor.Panels.getButton('views', 'open-blocks');\n            openBl && openBl.set('active', 1);\n        });\n\n    });\n}\n\n"]},"metadata":{},"sourceType":"module"}