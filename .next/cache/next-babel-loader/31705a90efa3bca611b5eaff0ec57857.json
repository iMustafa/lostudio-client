{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Cookie from \"js-cookie\";\nimport { useRouter } from 'next/router';\nimport config from 'next/config'; // import \"./css/grapes.min.css\";\n\nimport grapesjs from \"grapesjs\";\nimport gsWebpage from \"grapesjs-preset-webpage\";\nimport gsCustome from \"grapesjs-custom-code\";\nimport gsTap from \"grapesjs-tabs\";\nimport { TablePluginRef } from \"../../../components/grapes/table-widgets/html-table-widget/consts\";\nimport addTablePlugin from \"../../../components/grapes/table-widgets/html-table-widget\";\nvar API_URL = config().publicRuntimeConfig.API_URL;\n\nvar Page = function Page() {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      pluginLoaded = _React$useState2[0],\n      setPluginLoaded = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      editor = _React$useState4[0],\n      setEditor = _React$useState4[1];\n\n  var router = useRouter();\n\n  var _React$useState5 = React.useState(router.query.id),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      id = _React$useState6[0],\n      setId = _React$useState6[1];\n\n  console.log(id);\n  React.useEffect(function () {\n    if (!pluginLoaded) {\n      addTablePlugin();\n      setPluginLoaded(true);\n    } else if (!editor) {\n      var e = grapesjs.init({\n        color: \"white\",\n        height: \"100vh\",\n        width: \"auto\",\n        container: \"#g\",\n        fromElement: true,\n        plugins: [gsWebpage, gsCustome, gsTap, TablePluginRef],\n        storageManager: {\n          type: \"remote\",\n          urlStore: \"\".concat(API_URL, \"/Dashboards/\").concat(id, \"/grapes?access_token=\").concat(Cookie.get(\"id\")),\n          urlLoad: \"\".concat(API_URL, \"/Dashboards/\").concat(id, \"/grapes?access_token=\").concat(Cookie.get(\"id\")),\n          autosave: false,\n          autoload: true,\n          contentTypeJson: true,\n          storeComponents: true,\n          allowScripts: 1,\n          storeStyles: true,\n          storeHtml: true,\n          storeCss: true\n        }\n      });\n    }\n  });\n  return __jsx(\"div\", {\n    id: \"g\",\n    className: \"h\"\n  });\n};\n\nexport default Page;","map":null,"metadata":{},"sourceType":"module"}