{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{\"9ONQ\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"iVi/\");function i(e,t){void 0===t&&(t={});var n=function(e){if(e&&\"j\"===e[0]&&\":\"===e[1])return e.substr(2);return e}(e);if(function(e,t){return\"undefined\"===typeof t&&(t=!e||\"{\"!==e[0]&&\"[\"!==e[0]&&'\"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(r){}return e}var o=n(\"Qetd\"),a=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return\"string\"===typeof e?r.parse(e,t):\"object\"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE=\"object\"===typeof document&&\"string\"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=r.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),i(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=i(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var i;\"object\"===typeof t&&(t=JSON.stringify(t)),this.cookies=o({},this.cookies,((i={})[e]=t,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=r.serialize(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=o({},t,{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=o({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=r.serialize(e,\"\",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();t.default=a},Ma5Y:function(e,t,n){var r=n(\"9ONQ\");r=r.default||r,e.exports=function(e,t){var n=e.req&&e.req.headers&&e.req.headers.cookie;return new r(n).getAll(t)}},S9Nb:function(e,t,n){\"use strict\";n.r(t);var r=n(\"KQm4\"),i=n(\"o0o1\"),o=n.n(i),a=n(\"rePB\"),s=n(\"q1tI\"),c=n.n(s),u=n(\"7Cbv\"),l=n(\"R/WZ\"),p=n(\"ChGz\"),f=n.n(p),d=n(\"Ma5Y\"),h=n.n(d),y=n(\"PsDL\"),g=n(\"Z3vd\"),v=n(\"30+C\"),m=n(\"qeq0\"),w=n.n(m),O=n(\"hQyO\"),b=n.n(O),S=n(\"JxCS\"),x=n.n(S),C=n(\"IIOH\"),k=n(\"5l8p\"),j=n(\"PSSd\"),E=n(\"qYRl\"),P=n(\"HH0q\"),_=n(\"nOHt\"),T=c.a.createElement;function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=Object(l.a)({list:{width:500},fullList:{width:\"auto\"}}),L=function(e){var t=A(),n=Object(_.useRouter)().query.id,i=Object(s.useState)({right:!1}),c=i[0],l=i[1],p=Object(s.useState)(Object.values(e)),d=p[0],h=p[1],m=function(e,t){return function(n){(\"keydown\"!==n.type||\"Tab\"!==n.key&&\"Shift\"!==n.key)&&l(D({},c,Object(a.a)({},e,t)))}},O=function(e,t){var i,a;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i={layout:{i:Object(u.a)(),x:0,y:0,w:6,h:11,maxW:16,isDraggable:!0,isResizable:!0},type:e},t.next=4,o.a.awrap(j.a.createWidgetSettings(i));case 4:return a=t.sent,t.next=7,o.a.awrap(k.a.addWidgetToDashboard(n,a.id));case 7:i.id=a.id,h([].concat(Object(r.a)(d),[i])),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case\"end\":return t.stop()}}),null,null,[[0,11]],Promise)};return T(\"div\",null,T(C.a,{anchor:\"right\",open:c.right,onClose:m(\"right\",!1)},T(\"div\",{className:t.list,role:\"presentation\"},T(E.a,{onWidgetClick:O,widgetSettings:Object.values(e)}))),T(v.a,{style:{display:\"flex\",flexDirection:\"row\"}},T(\"div\",{style:{justifySelf:\"flex-start\",display:\"flex\",flex:1}},T(y.a,{\"aria-label\":\"back\",size:\"medium\",style:{outline:\"none\"}},T(w.a,{fontSize:\"default\"}))),T(\"div\",{style:{justifySelf:\"flex-end\",display:\"flex\",flex:1,justifyContent:\"flex-end\",paddingRight:\"10px\"}},T(g.a,{style:{outline:\"none\"},size:\"small\",startIcon:T(b.a,null)},\"Save\"),T(g.a,{style:{marginLeft:\"10px\",outline:\"none\"},size:\"small\",onClick:m(\"right\",!0),startIcon:T(x.a,null)},\"Widgets\"))),T(f.a,{className:\"layout\",cols:16,rowHeight:30,width:1920,layout:d.map((function(e){return e.layout})),onLayoutChange:function(e){var t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=d.map((function(t){var n=e.filter((function(e){return e.i==t.layout.i}))[0];return D({},t,{layout:n})})),n.next=4,o.a.awrap(Promise.all(t.map((function(e){return j.a.updateWidgetSettings(e.id,e)}))));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case\"end\":return n.stop()}}),null,null,[[0,6]],Promise)}},d.map((function(e,t){return T(\"div\",{key:e.layout.i},function(e){switch(e.type){case\"Table\":return T(P.U,{widgetId:e.id});case\"Line Chart\":return T(P.A,null);case\"Bar Chart\":return T(P.g,null);case\"Pie Chart\":return T(P.K,null);case\"Donut Chart\":return T(P.s,null);case\"Area Chart\":return T(P.c,null)}}(e))}))))};L.getInitialProps=function(e){var t,n;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=h()(e).id,r.next=3,o.a.awrap(k.a.getWidgetSettings({Authorization:t,id:\"5e413f33f6af6d17b44df269\"}));case 3:return n=r.sent,r.abrupt(\"return\",n);case 5:case\"end\":return r.stop()}}),null,null,null,Promise)},t.default=L},\"iVi/\":function(e,t,n){\"use strict\";t.parse=function(e,t){if(\"string\"!==typeof e)throw new TypeError(\"argument str must be a string\");for(var n={},i=t||{},a=e.split(o),c=i.decode||r,u=0;u<a.length;u++){var l=a[u],p=l.indexOf(\"=\");if(!(p<0)){var f=l.substr(0,p).trim(),d=l.substr(++p,l.length).trim();'\"'==d[0]&&(d=d.slice(1,-1)),void 0==n[f]&&(n[f]=s(d,c))}}return n},t.serialize=function(e,t,n){var r=n||{},o=r.encode||i;if(\"function\"!==typeof o)throw new TypeError(\"option encode is invalid\");if(!a.test(e))throw new TypeError(\"argument name is invalid\");var s=o(t);if(s&&!a.test(s))throw new TypeError(\"argument val is invalid\");var c=e+\"=\"+s;if(null!=r.maxAge){var u=r.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError(\"option maxAge is invalid\");c+=\"; Max-Age=\"+Math.floor(u)}if(r.domain){if(!a.test(r.domain))throw new TypeError(\"option domain is invalid\");c+=\"; Domain=\"+r.domain}if(r.path){if(!a.test(r.path))throw new TypeError(\"option path is invalid\");c+=\"; Path=\"+r.path}if(r.expires){if(\"function\"!==typeof r.expires.toUTCString)throw new TypeError(\"option expires is invalid\");c+=\"; Expires=\"+r.expires.toUTCString()}r.httpOnly&&(c+=\"; HttpOnly\");r.secure&&(c+=\"; Secure\");if(r.sameSite){switch(\"string\"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:c+=\"; SameSite=Strict\";break;case\"lax\":c+=\"; SameSite=Lax\";break;case\"strict\":c+=\"; SameSite=Strict\";break;case\"none\":c+=\"; SameSite=None\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return c};var r=decodeURIComponent,i=encodeURIComponent,o=/; */,a=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;function s(e,t){try{return t(e)}catch(n){return e}}},pCUV:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/dashboards/[id]/view\",function(){return n(\"S9Nb\")}])}},[[\"pCUV\",2,0,14,1,4,3,5,6,7,8,9,12,11,10,15,13,17]]]);","extractedComments":["/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */"]}