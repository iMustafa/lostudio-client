{"version":3,"file":"static/webpack/static/development/pages/dashboards/[id]/edit.js.c97b7a18a7164d3f074f.hot-update.js","sources":["webpack:///./components/widgets/form-controls/select/select-widget.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport FormControl from '@material-ui/core/FormControl'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport WidgetSettingsActions from '../../../../actions/widgetSettings.actions'\nimport { v4 as uuidv4 } from 'uuid'\n\nconst useStyles = makeStyles(theme => ({\n\n}))\n\nconst SelectWidget = ({ widgetId }) => {\n  const classes = useStyles()\n  const labelId = uuidv4()\n  const [widget, setWidget] = useState({ config: {}, properties: {} })\n  const [data, setData] = useState([])\n  const [menuState, setMenuState] = useState({ right: false })\n  const [value, setValue] = useState()\n\n  const handleChange = (event) => {\n    setValue(event.target.value)\n  }\n\n  useEffect(() => {\n    const getData = async () => {\n      try {\n        const $widget = await WidgetSettingsActions.getWidgetSettingsById(widgetId)\n        const $data = await WidgetSettingsActions.executeWidgetQuery(widgetId)\n        setWidget($widget)\n        setData($data)\n        return $widget\n      } catch (e) {\n        console.log(e)\n      }\n    }\n    getData()\n  }, [])\n\n  return (\n    <FormControl fullWidth className={classes.formControl}>\n      <InputLabel id={labelId}>{widget.properties.label}</InputLabel>\n      <Select\n        fullWidth\n        labelId={labelId}\n        id={widget.properties.id}\n        name={widget.properties.name}\n        value={value}\n        onChange={handleChange}\n        className={widget.properties.className}\n      >\n        {\n          data.map(option => (\n            <MenuItem value={option[widget.config.fields[0]]}>{option[widget.config.fields[0]]}</MenuItem>\n          ))\n        }\n      </Select>\n    </FormControl>\n  )\n}\n\nexport default SelectWidget"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAGA;AAAA;AACA;AACA;AACA;AAHA;AAGA;AAAA;AAAA;AAHA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAKA;AAAA;AALA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AACA;AALA;AACA;AADA;AAAA;AAAA;AAQA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAUA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAOA;AACA;AACA;;;;A","sourceRoot":""}